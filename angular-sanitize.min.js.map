{"version":3,"sources":["angular-sanitize.js"],"names":["window","angular","$sanitizeMinErr","$$minErr","bind","extend","forEach","isDefined","lowercase","noop","htmlParser","htmlSanitizeWriter","$SanitizeProvider","svgEnabled","this","$get","$$sanitizeUri","validElements","svgElements","html","buf","uri","isImage","test","join","enableSvg","htmlParserImpl","htmlSanitizeWriterImpl","SURROGATE_PAIR_REGEXP","NON_ALPHANUMERIC_REGEXP","voidElements","toMap","optionalEndTagBlockElements","optionalEndTagInlineElements","optionalEndTagElements","blockElements","inlineElements","blockedElements","uriAttrs","htmlAttrs","svgAttrs","validAttrs","str","lowercaseKeys","obj","items","split","i","length","inertBodyElement","doc","document","implementation","createHTMLDocument","docElement","documentElement","getDocumentElement","bodyElements","getElementsByTagName","createElement","appendChild","handler","undefined","innerHTML","mXSSAttempts","documentMode","stripCustomNsAttrs","node","firstChild","nodeType","start","nodeName","toLowerCase","attrToMap","attributes","chars","textContent","nextNode","end","nextSibling","parentNode","removeChild","attrs","map","ii","attr","name","value","encodeEntities","replace","hi","charCodeAt","low","uriValidator","ignoreCurrentElement","out","push","tag","key","lkey","Node","ELEMENT_NODE","l","attrNode","attrName","lastIndexOf","removeAttributeNode","sanitizeText","writer","module","provider","filter","$sanitize","LINKY_URL_REGEXP","MAILTO_REGEXP","linkyMinErr","isFunction","isObject","isString","text","target","attributesFn","getAttributesObject","getEmptyAttributesObject","match","raw","url","index","addText","substr","addLink","substring","linkAttributes"],"mappings":"CAKA,SAAUA,OAAQC,SAAU,aAa5B,IAAIC,gBAAkBD,QAAQE,SAAS,aACvC,IAAIC,KACJ,IAAIC,OACJ,IAAIC,QACJ,IAAIC,UACJ,IAAIC,UACJ,IAAIC,KACJ,IAAIC,WACJ,IAAIC,mBAiIJ,SAASC,oBACP,IAAIC,WAAa,MAEjBC,KAAKC,MAAQ,gBAAiB,SAASC,eACrC,GAAIH,WAAY,CACdR,OAAOY,cAAeC,aAExB,OAAO,SAASC,MACd,IAAIC,OACJV,WAAWS,KAAMR,mBAAmBS,IAAK,SAASC,IAAKC,SACrD,OAAQ,WAAWC,KAAKP,cAAcK,IAAKC,aAE7C,OAAOF,IAAII,KAAK,OAmCpBV,KAAKW,UAAY,SAASA,WACxB,GAAIlB,UAAUkB,WAAY,CACxBZ,WAAaY,UACb,OAAOX,SACF,CACL,OAAOD,aAQXT,KAAOH,QAAQG,KACfC,OAASJ,QAAQI,OACjBC,QAAUL,QAAQK,QAClBC,UAAYN,QAAQM,UACpBC,UAAYP,QAAQO,UACpBC,KAAOR,QAAQQ,KAEfC,WAAagB,eACbf,mBAAqBgB,uBAGrB,IAAIC,sBAAwB,kCAE1BC,wBAA0B,eAS5B,IAAIC,aAAeC,MAAM,0BAIzB,IAAIC,4BAA8BD,MAAM,kDACpCE,6BAA+BF,MAAM,SACrCG,uBAAyB7B,UACe4B,6BACAD,6BAG5C,IAAIG,cAAgB9B,UAAW2B,4BAA6BD,MAAM,mBAC1D,0FACA,iEAGR,IAAIK,eAAiB/B,UAAW4B,6BAA8BF,MAAM,oBAC5D,wFACA,wDAMR,IAAIb,YAAca,MAAM,2EAChB,6FACA,wDAGR,IAAIM,gBAAkBN,MAAM,gBAE5B,IAAId,cAAgBZ,UACeyB,aACAK,cACAC,eACAF,wBAGnC,IAAII,SAAWP,MAAM,gDAErB,IAAIQ,UAAYR,MAAM,0EAClB,6EACA,gEACA,4EACA,mCAIJ,IAAIS,SAAWT,MAAM,mEACjB,qFACA,2FACA,yFACA,sFACA,wFACA,sFACA,gFACA,yFACA,uFACA,qFACA,6FACA,4FACA,+FACA,8EAA+E,MAEnF,IAAIU,WAAapC,UACeiC,SACAE,SACAD,WAEhC,SAASR,MAAMW,IAAKC,eAClB,IAAIC,OAAUC,MAAQH,IAAII,MAAM,KAAMC,EACtC,IAAKA,EAAI,EAAGA,EAAIF,MAAMG,OAAQD,IAAK,CACjCH,IAAID,cAAgBnC,UAAUqC,MAAME,IAAMF,MAAME,IAAM,KAExD,OAAOH,IAGT,IAAIK,kBACJ,SAAUjD,QACR,IAAIkD,IACJ,GAAIlD,OAAOmD,UAAYnD,OAAOmD,SAASC,eAAgB,CACrDF,IAAMlD,OAAOmD,SAASC,eAAeC,mBAAmB,aACnD,CACL,MAAMnD,gBAAgB,UAAW,uCAEnC,IAAIoD,WAAaJ,IAAIK,iBAAmBL,IAAIM,qBAC5C,IAAIC,aAAeH,WAAWI,qBAAqB,QAGnD,GAAID,aAAaT,SAAW,EAAG,CAC7BC,iBAAmBQ,aAAa,OAC3B,CACL,IAAItC,KAAO+B,IAAIS,cAAc,QAC7BV,iBAAmBC,IAAIS,cAAc,QACrCxC,KAAKyC,YAAYX,kBACjBC,IAAIU,YAAYzC,QAjBpB,CAmBGnB,QAcH,SAAS0B,eAAeP,KAAM0C,SAC5B,GAAI1C,OAAS,MAAQA,OAAS2C,UAAW,CACvC3C,KAAO,QACF,UAAWA,OAAS,SAAU,CACnCA,KAAO,GAAKA,KAEd8B,iBAAiBc,UAAY5C,KAG7B,IAAI6C,aAAe,EACnB,EAAG,CACD,GAAIA,eAAiB,EAAG,CACtB,MAAM9D,gBAAgB,SAAU,yDAElC8D,eAGA,GAAIhE,OAAOmD,SAASc,aAAc,CAChCC,mBAAmBjB,kBAErB9B,KAAO8B,iBAAiBc,UACxBd,iBAAiBc,UAAY5C,WACtBA,OAAS8B,iBAAiBc,WAEnC,IAAII,KAAOlB,iBAAiBmB,WAC5B,MAAOD,KAAM,CACX,OAAQA,KAAKE,UACX,KAAK,EACHR,QAAQS,MAAMH,KAAKI,SAASC,cAAeC,UAAUN,KAAKO,aAC1D,MACF,KAAK,EACHb,QAAQc,MAAMR,KAAKS,aACnB,MAGJ,IAAIC,SACJ,KAAMA,SAAWV,KAAKC,YAAa,CACnC,GAAID,KAAKE,WAAa,EAAG,CACrBR,QAAQiB,IAAIX,KAAKI,SAASC,eAE5BK,SAAWV,KAAKY,YAChB,IAAKF,SAAU,CACb,MAAOA,UAAY,KAAM,CACvBV,KAAOA,KAAKa,WACZ,GAAIb,OAASlB,iBAAkB,MAC/B4B,SAAWV,KAAKY,YAClB,GAAIZ,KAAKE,WAAa,EAAG,CACrBR,QAAQiB,IAAIX,KAAKI,SAASC,kBAKlCL,KAAOU,SAGT,MAAQV,KAAOlB,iBAAiBmB,WAAa,CAC3CnB,iBAAiBgC,YAAYd,OAIjC,SAASM,UAAUS,OACjB,IAAIC,OACJ,IAAK,IAAIpC,EAAI,EAAGqC,GAAKF,MAAMlC,OAAQD,EAAIqC,GAAIrC,IAAK,CAC9C,IAAIsC,KAAOH,MAAMnC,GACjBoC,IAAIE,KAAKC,MAAQD,KAAKE,MAExB,OAAOJ,IAWT,SAASK,eAAeD,OACtB,OAAOA,MACLE,QAAQ,KAAM,SACdA,QAAQ7D,sBAAuB,SAAS2D,OACtC,IAAIG,GAAKH,MAAMI,WAAW,GAC1B,IAAIC,IAAML,MAAMI,WAAW,GAC3B,MAAO,OAAUD,GAAK,OAAU,MAAUE,IAAM,OAAU,OAAW,MAEvEH,QAAQ5D,wBAAyB,SAAS0D,OACxC,MAAO,KAAOA,MAAMI,WAAW,GAAK,MAEtCF,QAAQ,KAAM,QACdA,QAAQ,KAAM,QAalB,SAAS9D,uBAAuBP,IAAKyE,cACnC,IAAIC,qBAAuB,MAC3B,IAAIC,IAAM3F,KAAKgB,IAAKA,IAAI4E,MACxB,OACE1B,MAAO,SAAS2B,IAAKf,OACnBe,IAAMzF,UAAUyF,KAChB,IAAKH,sBAAwBzD,gBAAgB4D,KAAM,CACjDH,qBAAuBG,IAEzB,IAAKH,sBAAwB7E,cAAcgF,OAAS,KAAM,CACxDF,IAAI,KACJA,IAAIE,KACJ3F,QAAQ4E,MAAO,SAASK,MAAOW,KAC7B,IAAIC,KAAO3F,UAAU0F,KACrB,IAAI5E,QAAW2E,MAAQ,OAASE,OAAS,OAAWA,OAAS,aAC7D,GAAI1D,WAAW0D,QAAU,OACtB7D,SAAS6D,QAAU,MAAQN,aAAaN,MAAOjE,UAAW,CAC3DyE,IAAI,KACJA,IAAIG,KACJH,IAAI,MACJA,IAAIP,eAAeD,QACnBQ,IAAI,QAGRA,IAAI,OAGRjB,IAAK,SAASmB,KACZA,IAAMzF,UAAUyF,KAChB,IAAKH,sBAAwB7E,cAAcgF,OAAS,MAAQnE,aAAamE,OAAS,KAAM,CACtFF,IAAI,MACJA,IAAIE,KACJF,IAAI,KAGN,GAAIE,KAAOH,qBAAsB,CAC/BA,qBAAuB,QAG3BnB,MAAO,SAASA,OACd,IAAKmB,qBAAsB,CACzBC,IAAIP,eAAeb,WAc3B,SAAST,mBAAmBC,MAC1B,MAAOA,KAAM,CACX,GAAIA,KAAKE,WAAarE,OAAOoG,KAAKC,aAAc,CAC9C,IAAInB,MAAQf,KAAKO,WACjB,IAAK,IAAI3B,EAAI,EAAGuD,EAAIpB,MAAMlC,OAAQD,EAAIuD,EAAGvD,IAAK,CAC5C,IAAIwD,SAAWrB,MAAMnC,GACrB,IAAIyD,SAAWD,SAASjB,KAAKd,cAC7B,GAAIgC,WAAa,aAAeA,SAASC,YAAY,OAAQ,KAAO,EAAG,CACrEtC,KAAKuC,oBAAoBH,UACzBxD,IACAuD,MAKN,IAAIzB,SAAWV,KAAKC,WACpB,GAAIS,SAAU,CACZX,mBAAmBW,UAGrBV,KAAOA,KAAKY,cAKlB,SAAS4B,aAAahC,OACpB,IAAIvD,OACJ,IAAIwF,OAASjG,mBAAmBS,IAAKX,MACrCmG,OAAOjC,MAAMA,OACb,OAAOvD,IAAII,KAAK,IAKlBvB,QAAQ4G,OAAO,iBAAkBC,SAAS,YAAalG,mBAiIvDX,QAAQ4G,OAAO,cAAcE,OAAO,SAAU,YAAa,SAASC,WAClE,IAAIC,iBACE,0FACFC,cAAgB,YAEpB,IAAIC,YAAclH,QAAQE,SAAS,SACnC,IAAII,UAAYN,QAAQM,UACxB,IAAI6G,WAAanH,QAAQmH,WACzB,IAAIC,SAAWpH,QAAQoH,SACvB,IAAIC,SAAWrH,QAAQqH,SAEvB,OAAO,SAASC,KAAMC,OAAQ9C,YAC5B,GAAI6C,MAAQ,MAAQA,OAAS,GAAI,OAAOA,KACxC,IAAKD,SAASC,MAAO,MAAMJ,YAAY,YAAa,oCAAqCI,MAEzF,IAAIE,aACFL,WAAW1C,YAAcA,WACzB2C,SAAS3C,YAAc,SAASgD,sBAAuB,OAAOhD,YAC9D,SAASiD,2BAA4B,UAEvC,IAAIC,MACJ,IAAIC,IAAMN,KACV,IAAIpG,QACJ,IAAI2G,IACJ,IAAI/E,EACJ,MAAQ6E,MAAQC,IAAID,MAAMX,kBAAoB,CAE5Ca,IAAMF,MAAM,GAEZ,IAAKA,MAAM,KAAOA,MAAM,GAAI,CAC1BE,KAAOF,MAAM,GAAK,UAAY,WAAaE,IAE7C/E,EAAI6E,MAAMG,MACVC,QAAQH,IAAII,OAAO,EAAGlF,IACtBmF,QAAQJ,IAAKF,MAAM,GAAGnC,QAAQyB,cAAe,KAC7CW,IAAMA,IAAIM,UAAUpF,EAAI6E,MAAM,GAAG5E,QAEnCgF,QAAQH,KACR,OAAOb,UAAU7F,KAAKK,KAAK,KAE3B,SAASwG,QAAQT,MACf,IAAKA,KAAM,CACT,OAEFpG,KAAK6E,KAAKW,aAAaY,OAGzB,SAASW,QAAQJ,IAAKP,MACpB,IAAIrB,IAAKkC,eAAiBX,aAAaK,KACvC3G,KAAK6E,KAAK,OAEV,IAAKE,OAAOkC,eAAgB,CAC1BjH,KAAK6E,KAAKE,IAAM,KAAOkC,eAAelC,KAAO,MAG/C,GAAI3F,UAAUiH,WAAa,WAAYY,gBAAiB,CACtDjH,KAAK6E,KAAK,WACAwB,OACA,MAEZrG,KAAK6E,KAAK,SACA8B,IAAIrC,QAAQ,KAAM,UAClB,MACVuC,QAAQT,MACRpG,KAAK6E,KAAK,cAvtBhB,CA6tBGhG,OAAQA,OAAOC"}